@{
    ViewData["Title"] = "Ana Sayfa";
}

<!-- Hero Section -->
<section class="hero-section d-flex align-items-center" style="min-height: 80vh; background: linear-gradient(135deg, #6B48FF 0%, #4cc9f0 100%);">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center hero-content" data-aos="fade-up">
                <h1 class="display-3 fw-bold mb-4 text-white">Otizm Eğitim Platformuna Hoş Geldiniz</h1>
                <p class="lead text-white mb-5">Otizmli çocukların eğitiminde yenilikçi ve etkili çözümler sunuyoruz. Özel eğitim programlarıyla çocuklarınızın gelişimine destek olun.</p>
                <div class="hero-btns mb-4">
                    <a href="/Course" class="btn btn-warning btn-lg mx-2 mb-2"><i class="fas fa-play me-2"></i>EĞİTİME GİT</a>
                    <a href="#about" class="btn btn-info btn-lg mx-2 mb-2"><i class="fas fa-info-circle me-2"></i>DAHA FAZLA BİLGİ AL</a>
                </div>
                <div class="register-btns">
                    <a href="/Account/ParentRegister" class="btn btn-success btn-lg mx-2 mb-2"><i class="fas fa-user-friends me-2"></i>VELİ OLARAK KAYIT OL</a>
                    <a href="/Account/InstructorRegister" class="btn btn-primary btn-lg mx-2 mb-2"><i class="fas fa-chalkboard-teacher me-2"></i>EĞİTMEN OLARAK KAYIT OL</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Özellikler -->
<section class="features-section py-5 bg-white">
    <div class="container">
        <div class="section-title text-center mb-5">
            <h2 class="fw-bold">Neden Bizi Seçmelisiniz?</h2>
            <p class="text-muted">Otizmli çocuklar için özel olarak tasarlanmış eğitim programlarımızla benzersiz bir deneyim sunuyoruz.</p>
        </div>
        <div class="row g-4">
            <div class="col-lg-4 col-md-6">
                <div class="card h-100 shadow-sm border-0">
                    <div class="card-body text-center">
                        <div class="mb-3"><i class="fas fa-graduation-cap fa-3x text-primary"></i></div>
                        <h5 class="fw-bold mb-2">Özelleştirilmiş Eğitim</h5>
                        <p>Her çocuğun bireysel ihtiyaçlarına uygun eğitim programları sunuyoruz.</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="card h-100 shadow-sm border-0">
                    <div class="card-body text-center">
                        <div class="mb-3"><i class="fas fa-info-circle fa-3x text-info"></i></div>
                        <h5 class="fw-bold mb-2">Zengin İçerik</h5>
                        <p>Platformda eğitim modülleri, gelişim takibi, aile rehberliği ve etkileşimli materyaller var.</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="card h-100 shadow-sm border-0">
                    <div class="card-body text-center">
                        <div class="mb-3"><i class="fas fa-chart-line fa-3x text-success"></i></div>
                        <h5 class="fw-bold mb-2">Gelişim Takibi</h5>
                        <p>Çocuğunuzun gelişimini düzenli olarak takip edip raporluyoruz.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Hakkımızda -->
<section id="about" class="about-section py-5 bg-light">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0 text-center">
                <div class="about-icon-wrapper mb-4">
                    <i class="fas fa-puzzle-piece fa-6x text-primary"></i>
                </div>
                <h3 class="fw-bold mb-3">Otizm Eğitim Platformu</h3>
                <p class="lead text-muted">Otizmli çocukların eğitiminde yenilikçi ve etkili çözümler sunan dijital platformumuz, çocukların gelişimine katkı sağlamak için modern ve etkileşimli bir deneyim sunuyor.</p>
            </div>
            <div class="col-lg-6">
                <div class="mt-4">
                    <h4 class="h5 fw-bold mb-3"><i class="fas fa-child text-primary me-2"></i>Çocuklar İçin</h4>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Eğlenceli ve etkileşimli eğitim içerikleri</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Görsel ve işitsel öğrenme materyalleri</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Oyun tabanlı öğrenme deneyimi</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Kişiselleştirilmiş eğitim programları</li>
                    </ul>
                </div>

                <div class="mt-4">
                    <h4 class="h5 fw-bold mb-3"><i class="fas fa-user-friends text-info me-2"></i>Veliler İçin</h4>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Detaylı gelişim raporları ve takip sistemi</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Uzman eğitmenlerden destek ve rehberlik</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Eğitim kaynakları ve materyaller</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Aile destek programları</li>
                    </ul>
                </div>

                <div class="mt-4">
                    <h4 class="h5 fw-bold mb-3"><i class="fas fa-chalkboard-teacher text-warning me-2"></i>Eğitmenler İçin</h4>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Kapsamlı eğitim materyalleri</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Öğrenci ilerleme takip sistemi</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Mesleki gelişim kaynakları</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Uzman ağı ve işbirliği imkanları</li>
                    </ul>
                </div>

                <div class="mt-4">
                    <h4 class="h5 fw-bold mb-3"><i class="fas fa-star text-danger me-2"></i>Platform Özellikleri</h4>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Kullanıcı dostu arayüz</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Güvenli ve özel platform</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> 7/24 teknik destek</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> Düzenli içerik güncellemeleri</li>
                        <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i> <strong>Akıllı Chatbot:</strong> Platformumuzda veli, eğitmen ve çocukların kullanabileceği, eğitim ve gelişimle ilgili sorulara anında yanıt veren yardımcı asistan bulunmaktadır.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Chatbot Kutusu -->
<div id="chatbot" style="position: fixed; bottom: 20px; right: 20px; width: 320px; max-height: 500px; background-color: #fff; border: 1px solid #ccc; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); display: none; flex-direction: column; z-index: 9999;">
    <div class="chat-header">
        <div class="d-flex align-items-center">
            <div class="chatbot-avatar me-2">
                <i class="fas fa-robot fa-lg"></i>
            </div>
            <div>
                <h5 class="mb-0">Yardımcı Asistan</h5>
                <small class="text-muted">Size nasıl yardımcı olabilirim?</small>
            </div>
        </div>
        <button class="btn-close btn-close-white" onclick="toggleChat()"></button>
    </div>
    <div id="chatMessages" style="padding: 10px; overflow-y: auto; flex-grow: 1; max-height: 350px;"></div>
    <div style="display: flex; padding: 8px; border-top: 1px solid #ddd;">
        <input type="text" id="chatInput" placeholder="Sorunuzu yazın..." style="flex: 1; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
        <button id="micBtn" type="button" style="margin-left: 8px;"><i class="fas fa-microphone"></i></button>
        <button onclick="sendMessage()" style="margin-left: 8px; background: linear-gradient(135deg, #6B48FF 0%, #FF6B6B 100%); color: white; border: none; padding: 8px 12px; border-radius: 4px;">Gönder</button>
    </div>
</div>

<!-- Açma Butonu -->
<button id="chatbotToggleBtn" onclick="toggleChatbot()" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999; background: linear-gradient(135deg, #6B48FF 0%, #FF6B6B 100%); color: white; border: none; width: 60px; height: 60px; border-radius: 50%; font-size: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); display: flex; align-items: center; justify-content: center; transition: transform 0.3s ease;">
    <i class="fas fa-robot"></i>
</button>

<style>
.about-icon-wrapper {
    background: linear-gradient(135deg, #6B48FF 0%, #4cc9f0 100%);
    width: 150px;
    height: 150px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

.about-icon-wrapper i {
    color: white;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
}

#chatbot {
    transition: all 0.3s ease;
}

#chatbot:hover {
    box-shadow: 0 4px 16px rgba(0,0,0,0.3);
}

#chatInput:focus {
    outline: none;
    border-color: #6B48FF;
    box-shadow: 0 0 0 2px rgba(107, 72, 255, 0.2);
}

button:hover {
    transform: scale(1.05);
}

#chatMessages::-webkit-scrollbar {
    width: 6px;
}

#chatMessages::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 3px;
}

#chatMessages::-webkit-scrollbar-thumb {
    background: #6B48FF;
    border-radius: 3px;
}

#chatMessages::-webkit-scrollbar-thumb:hover {
    background: #FF6B6B;
}

.chatbot-avatar {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #6f42c1, #fd7e14);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.chatbot-avatar i {
    font-size: 1.5rem;
}
</style>

<script>
    function toggleChatbot() {
        const bot = document.getElementById("chatbot");
        const button = document.getElementById("chatbotToggleBtn");
        if (bot.style.display === "none") {
            bot.style.display = "flex";
            button.style.display = "none";
            button.style.transform = "scale(1.1)";
            setTimeout(() => button.style.transform = "scale(1)", 300);
        } else {
            bot.style.display = "none";
            button.style.display = "flex";
            button.style.transform = "scale(0.9)";
            setTimeout(() => button.style.transform = "scale(1)", 300);
        }
    }

    async function sendMessage() {
        const input = document.getElementById("chatInput");
        const message = input.value.trim();
        if (!message) return;

        appendMessage("Siz", message);
        input.value = "";

        const response = await fetch('/api/chat', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ message })
        });

        if (response.ok) {
            const data = await response.json();
            appendMessage("Yardımcı Asistan", data.reply);
        } else {
            appendMessage("Yardımcı Asistan", "Bir hata oluştu. Lütfen tekrar deneyin.");
        }
    }

    function appendMessage(sender, message) {
        const chat = document.getElementById("chatMessages");
        const div = document.createElement("div");
        div.style.marginBottom = "12px";
        div.style.padding = "8px 12px";
        div.style.borderRadius = "8px";
        div.style.maxWidth = "80%";
        
        if (sender === "Siz") {
            div.style.backgroundColor = "#6B48FF";
            div.style.color = "white";
            div.style.marginLeft = "auto";
        } else {
            div.style.backgroundColor = "#f0f0f0";
            div.style.color = "#333";
            div.style.marginRight = "auto";
        }
        
        div.innerHTML = `<strong>${sender}:</strong><br>${message}`;
        chat.appendChild(div);
        chat.scrollTop = chat.scrollHeight;
    }

    // Enter tuşu ile mesaj gönderme
    document.addEventListener("DOMContentLoaded", function() {
        document.getElementById("chatInput").addEventListener("keypress", function(e) {
            if (e.key === "Enter") {
                sendMessage();
            }
        });
    });

    function speakText(text) {
        if ('speechSynthesis' in window) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'tr-TR';
            window.speechSynthesis.speak(utterance);
        }
    }

    async function sendMessage() {
        const input = document.getElementById("chatInput");
        const message = input.value.trim();
        if (!message) return;
        appendMessage("Siz", message);
        input.value = "";
        const response = await fetch('/api/chat', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ message })
        });
        if (response.ok) {
            const data = await response.json();
            appendMessage("Yardımcı Asistan", data.reply);
            speakText(data.reply);
        } else {
            appendMessage("Yardımcı Asistan", "Bir hata oluştu. Lütfen tekrar deneyin.");
        }
    }

    document.addEventListener("DOMContentLoaded", function() {
        document.getElementById("chatInput").addEventListener("keypress", function(e) {
            if (e.key === "Enter") {
                sendMessage();
            }
        });
        // Sesli giriş (Speech-to-Text)
        const micBtn = document.getElementById('micBtn');
        const chatInput = document.getElementById('chatInput');
        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            const recognition = new SpeechRecognition();
            recognition.lang = 'tr-TR';
            recognition.continuous = false;
            recognition.interimResults = false;
            micBtn.addEventListener('click', function() {
                recognition.start();
            });
            recognition.onresult = function(event) {
                const transcript = event.results[0][0].transcript;
                chatInput.value = transcript;
            };
            recognition.onerror = function(event) {
                alert('Sesli algılama başarısız: ' + event.error);
            };
        } else {
            micBtn.disabled = true;
            micBtn.title = "Tarayıcınız sesli giriş desteklemiyor.";
        }
    });
</script> 